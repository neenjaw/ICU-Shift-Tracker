<html>
<head>
</head>
<body>
  <h4>Test page</h4>
  <div id="bin">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="build-shift-table.js"></script>

  <script>
    var obj = null;
    var x = '{"staff": [{"name" : "Name1", "id" : 1, "shifts": [{"shift_date": "1111-01-01", "shift_id": 1, "shift_code": "P"},{"shift_date": "2222-02-02", "shift_id": 2, "shift_code": "O"},{"shift_date": "3333-03-03", "shift_id": -1, "shift_code": "-"},{"shift_date": "4444-04-04", "shift_id": -1, "shift_code": "-"}]},{"name" : "Name2", "id" : 2, "shifts": [{"shift_date": "1111-01-01", "shift_id": -1, "shift_code": "-"},{"shift_date": "2222-02-02", "shift_id": -1, "shift_code": "-"},{"shift_date": "3333-03-03", "shift_id": 3, "shift_code": "V"},{"shift_date": "4444-04-04", "shift_id": 4, "shift_code": "M"}]}]}';
    var y = '{"staff":[{"name":"Amick,Sonny","id":"31","shifts":[{"date":"2017-07-17","id":-1,"code":"-"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":-1,"code":"-"},{"date":"2017-07-23","id":-1,"code":"-"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":"302","code":"V"},{"date":"2017-08-13","id":-1,"code":"-"}]},{"name":"Bakos, ';
    y += 'Audie","id":"8","shifts":[{"date":"2017-07-17","id":-1,"code":"-"},{"date":"2017-07-18","id":"13","code":"V"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":-1,"code":"-"},{"date":"2017-07-23","id":-1,"code":"-"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":"301","code":"D"},{"date":"2017-08-13","id":"311","code":"O"}]},{"name":"Carrigan, ';
    y += 'Tabatha","id":"29","shifts":[{"date":"2017-07-17","id":"111","code":"V"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":-1,"code":"-"},{"date":"2017-07-23","id":-1,"code":"-"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":-1,"code":"-"},{"date":"2017-08-13","id":-1,"code":"-"}]},{"name":"Flippin, ';
    y += 'Lacey","id":"15","shifts":[{"date":"2017-07-17","id":-1,"code":"-"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":-1,"code":"-"},{"date":"2017-07-23","id":-1,"code":"-"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":"306","code":"P"},{"date":"2017-08-13","id":-1,"code":"-"}]},{"name":"Gambrell, ';
    y += 'Johnny","id":"4","shifts":[{"date":"2017-07-17","id":-1,"code":"-"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":-1,"code":"-"},{"date":"2017-07-23","id":-1,"code":"-"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":"303","code":"C"},{"date":"2017-08-13","id":-1,"code":"-"}]},{"name":"Herrell, ';
    y += 'Randal","id":"28","shifts":[{"date":"2017-07-17","id":-1,"code":"-"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":-1,"code":"-"},{"date":"2017-07-23","id":-1,"code":"-"},{"date":"2017-07-24","id":"33","code":"V"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":-1,"code":"-"},{"date":"2017-08-13","id":-1,"code":"-"}]},{"name":"Hong, ';
    y += 'Ken","id":"10","shifts":[{"date":"2017-07-17","id":-1,"code":"-"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":"211","code":"V"},{"date":"2017-07-22","id":"281","code":"V"},{"date":"2017-07-23","id":-1,"code":"-"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":-1,"code":"-"},{"date":"2017-08-13","id":"310","code":"D"}]},{"name":"Kasprzak, ';
    y += 'Margurite","id":"2","shifts":[{"date":"2017-07-17","id":-1,"code":"-"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":"259","code":"V"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":-1,"code":"-"},{"date":"2017-07-23","id":-1,"code":"-"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":-1,"code":"-"},{"date":"2017-08-13","id":"309","code":"A"}]},{"name":"Laubscher, ';
    y += 'Alpha","id":"25","shifts":[{"date":"2017-07-17","id":"244","code":"V"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":-1,"code":"-"},{"date":"2017-07-23","id":"158","code":"V"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":-1,"code":"-"},{"date":"2017-08-13","id":-1,"code":"-"}]},{"name":"Lundy, ';
    y += 'Basilia","id":"5","shifts":[{"date":"2017-07-17","id":-1,"code":"-"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":"48","code":"V"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":-1,"code":"-"},{"date":"2017-07-23","id":-1,"code":"-"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":-1,"code":"-"},{"date":"2017-08-13","id":-1,"code":"-"}]},{"name":"Maldanado, ';
    y += 'Lizeth","id":"24","shifts":[{"date":"2017-07-17","id":-1,"code":"-"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":-1,"code":"-"},{"date":"2017-07-23","id":-1,"code":"-"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":-1,"code":"-"},{"date":"2017-08-13","id":"312","code":"O"}]},{"name":"Mohamed, ';
    y += 'Cleopatra","id":"16","shifts":[{"date":"2017-07-17","id":"226","code":"V"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":-1,"code":"-"},{"date":"2017-07-23","id":-1,"code":"-"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":-1,"code":"-"},{"date":"2017-08-13","id":-1,"code":"-"}]},{"name":"Peloquin, ';
    y += 'Joaquin","id":"12","shifts":[{"date":"2017-07-17","id":"292","code":"V"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":"269","code":"V"},{"date":"2017-07-23","id":-1,"code":"-"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":-1,"code":"-"},{"date":"2017-08-13","id":-1,"code":"-"}]},{"name":"Saine, ';
    y += 'Jimmie","id":"22","shifts":[{"date":"2017-07-17","id":-1,"code":"-"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":"70","code":"V"},{"date":"2017-07-22","id":"271","code":"V"},{"date":"2017-07-23","id":"168","code":"V"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":-1,"code":"-"},{"date":"2017-08-13","id":-1,"code":"-"}]},{"name":"Walberg, ';
    y += 'Shalanda","id":"26","shifts":[{"date":"2017-07-17","id":-1,"code":"-"},{"date":"2017-07-18","id":-1,"code":"-"},{"date":"2017-07-19","id":-1,"code":"-"},{"date":"2017-07-20","id":-1,"code":"-"},{"date":"2017-07-22","id":-1,"code":"-"},{"date":"2017-07-23","id":"246","code":"V"},{"date":"2017-07-24","id":-1,"code":"-"},{"date":"2017-08-09","id":-1,"code":"-"},{"date":"2017-08-12","id":-1,"code":"-"},{"date":"2017-08-13","id":-1,"code":"-"}]}]}';

    $(function() {
      console.log(y);
      obj = JSON.parse(y);
      //console.log(JSON.stringify(obj));
      $("#bin").html(JSON.stringify(obj));
    });
  </script>

</body>
</html>
